(function(){"use strict";var e={5617:function(e,t,a){var r={};a.r(r);var n=a(5130),o=a(6768);const s={id:"app"};function i(e,t,a,r,n,i){const l=(0,o.g2)("Navigation"),u=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.bF)(l),((0,o.uX)(),(0,o.Wv)(u,{key:e.$route.params.id}))])}var l=a(4232),u=a.p+"img/logo-noName.0b7d3662.png",c=a.p+"img/logo-name.72623146.png";const d={class:"navbar navbar-expand-lg navbar-light bg-white shadow-sm py-3"},p={class:"container-fluid"},h={class:"collapse navbar-collapse",id:"navbarNavDropdown"},m={class:"form-inline mr-auto custom-right-margin position-relative search-container"},g={key:0,class:"list-group position-absolute suggestion-dropdown"},f=["onClick"],v={class:"navbar-nav ml-auto"},y={key:0,class:"nav-item"},k={key:1,class:"nav-item dropdown d-flex align-items-center"},b=["src"],L={class:"ml-2 text-dark font-weight-bold"},w={class:"dropdown-menu dropdown-menu-right shadow","aria-labelledby":"userDropdown"};function C(e,t,a,r,s,i){return(0,o.uX)(),(0,o.CE)("nav",d,[(0,o.Lk)("div",p,[t[6]||(t[6]=(0,o.Fv)('<a class="navbar-brand d-flex align-items-center" href="/" data-v-a67b247a><img src="'+u+'" alt="UFood Logo" class="logo" data-v-a67b247a><img src="'+c+'" alt="UFood Logo" class="logo" data-v-a67b247a></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation" data-v-a67b247a><span class="navbar-toggler-icon" data-v-a67b247a></span></button>',2)),(0,o.Lk)("div",h,[(0,o.Lk)("div",m,[(0,o.bo)((0,o.Lk)("input",{class:"form-control mr-sm-2 search-bar",type:"search","onUpdate:modelValue":t[0]||(t[0]=e=>s.searchQuery=e),placeholder:"Search restaurants","aria-label":"Search",onInput:t[1]||(t[1]=(...e)=>i.SearchRestaurants&&i.SearchRestaurants(...e))},null,544),[[n.Jo,s.searchQuery]]),s.filteredSuggestions.length?((0,o.uX)(),(0,o.CE)("ul",g,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.filteredSuggestions,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:t,class:"list-group-item list-group-item-action",onClick:t=>i.navigateToRestaurant(e)},(0,l.v_)(e.name),9,f)))),128))])):(0,o.Q3)("",!0)]),(0,o.Lk)("ul",v,[s.user?((0,o.uX)(),(0,o.CE)("li",k,[(0,o.Lk)("img",{src:s.user.photoURL||s.defaultAvatar,class:"rounded-circle shadow-sm",alt:"User Avatar",style:{width:"40px",height:"40px","object-fit":"cover",border:"2px solid #90CAF9"}},null,8,b),(0,o.Lk)("span",L,(0,l.v_)(s.user.displayName||"User"),1),t[5]||(t[5]=(0,o.Lk)("a",{class:"nav-link dropdown-toggle d-flex align-items-center",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},null,-1)),(0,o.Lk)("div",w,[(0,o.Lk)("a",{class:"dropdown-item",href:"#",onClick:t[3]||(t[3]=(...e)=>i.navigateToProfile&&i.navigateToProfile(...e))},"Profile Page"),(0,o.Lk)("a",{class:"dropdown-item",href:"#",onClick:t[4]||(t[4]=(...e)=>i.logoutUser&&i.logoutUser(...e))},"Logout")])])):((0,o.uX)(),(0,o.CE)("li",y,[(0,o.Lk)("a",{onClick:t[2]||(t[2]=(...e)=>i.navigateToLogin&&i.navigateToLogin(...e)),class:"btn btn-outline-primary"},"Sign In")]))])])])])}a(4114);var _=a(6400),x=a(6971),R=a(7617);const F={apiKey:"AIzaSyDUYSnnovx_AOPBBXzlfxUNFqa7u3GC1JE",authDomain:"ufood-c15e5.firebaseapp.com",projectId:"ufood-c15e5",storageBucket:"ufood-c15e5.appspot.com",messagingSenderId:"1084993476686",appId:"1:1084993476686:web:4b87eac6361f0c07184b1f",measurementId:"G-FDQXSHTR1S"},S=(0,_.Wp)(F),I=(0,x.xI)(S);(0,R.aU)(S);var A=JSON.parse('[{"id":"1","name":"Burger King","address":"123 Main Street, New York, NY","tel":"(123) 456-7890","location":{"type":"Point","coordinates":[-74.005974,40.712776]},"opening_hours":{"monday":"10h-22h","tuesday":"10h-22h","wednesday":"10h-22h","thursday":"10h-22h","friday":"10h-23h","saturday":"10h-23h","sunday":"10h-21h"},"pictures":["burgerking.com/pic1","burgerking.com/pic2"],"genres":["Fast Food"],"price_range":1,"rating":3.5},{"id":"2","name":"Sweet Greens","address":"456 Ocean Avenue, Los Angeles, CA","tel":"(987) 654-3210","location":{"type":"Point","coordinates":[-118.243683,34.052235]},"opening_hours":{"monday":"09h-21h","tuesday":"09h-21h","wednesday":"09h-21h","thursday":"09h-21h","friday":"09h-22h","saturday":"09h-22h","sunday":"09h-20h"},"pictures":["sweetgreens.com/pic1","sweetgreens.com/pic2"],"genres":["Healthy","Vegan"],"price_range":2,"rating":4.7},{"id":"3","name":"Dunkin\' Donuts","address":"789 Wacker Drive, Chicago, IL","tel":"(312) 123-4567","location":{"type":"Point","coordinates":[-87.629799,41.878113]},"opening_hours":{"monday":"05h-20h","tuesday":"05h-20h","wednesday":"05h-20h","thursday":"05h-20h","friday":"05h-21h","saturday":"06h-21h","sunday":"06h-19h"},"pictures":["dunkindonuts.com/pic1","dunkindonuts.com/pic2"],"genres":["Coffee"],"price_range":1,"rating":4},{"id":"4","name":"Chipotle","address":"321 Market Street, San Francisco, CA","tel":"(415) 987-6543","location":{"type":"Point","coordinates":[-122.419418,37.774929]},"opening_hours":{"monday":"10h-22h","tuesday":"10h-22h","wednesday":"10h-22h","thursday":"10h-22h","friday":"10h-23h","saturday":"10h-23h","sunday":"10h-21h"},"pictures":["chipotle.com/pic1","chipotle.com/pic2"],"genres":["Mexican","Fast Food"],"price_range":2,"rating":4.2},{"id":"5","name":"Subway","address":"987 5th Avenue, New York, NY","tel":"(212) 555-9876","location":{"type":"Point","coordinates":[-74.005974,40.712776]},"opening_hours":{"monday":"09h-21h","tuesday":"09h-21h","wednesday":"09h-21h","thursday":"09h-21h","friday":"09h-22h","saturday":"09h-22h","sunday":"09h-20h"},"pictures":["subway.com/pic1","subway.com/pic2"],"genres":["Fast Food"],"price_range":1,"rating":3.9},{"id":"6","name":"Starbucks","address":"654 Hill Street, Los Angeles, CA","tel":"(213) 555-6543","location":{"type":"Point","coordinates":[-118.243683,34.052235]},"opening_hours":{"monday":"06h-20h","tuesday":"06h-20h","wednesday":"06h-20h","thursday":"06h-20h","friday":"06h-21h","saturday":"07h-21h","sunday":"07h-19h"},"pictures":["starbucks.com/pic1","starbucks.com/pic2"],"genres":["Coffee"],"price_range":1,"rating":4.5}]'),E={name:"NavigationBar",data(){return{searchQuery:"",restaurants:A||{restaurants:[]},filteredSuggestions:[],user:null,defaultAvatar:"https://via.placeholder.com/150/000000/FFFFFF/?text=Avatar"}},created(){this.fetchUser()},methods:{fetchUser(){(0,x.hg)(I,(e=>{this.user=e}))},navigateToLogin(){this.$router.push("/login")},navigateToProfile(){this.$router.push("/profile")},async logoutUser(){try{await(0,x.CI)(I),this.user=null,this.$router.push("/")}catch(e){console.error("Error logging out:",e)}},SearchRestaurants(){this.searchQuery.length>0?this.filteredSuggestions=this.restaurants.filter((e=>e.name.toLowerCase().includes(this.searchQuery.toLowerCase()))):this.filteredSuggestions=[]},selectSuggestion(e){this.searchQuery=e,this.filteredSuggestions=[]},async navigateToRestaurant(e){const t=I.currentUser;if(t){const a=`visitCount-${t.uid}-${e.id}`,r=`visitTimestamp-${t.uid}-${e.id}`;let n=parseInt(localStorage.getItem(a))||0;n+=1,localStorage.setItem(a,n),localStorage.setItem(r,Date.now()),this.$router.push(`/restaurant/${e.id}`),this.searchQuery="",this.filteredSuggestions=[]}}}},U=a(1241);const P=(0,U.A)(E,[["render",C],["__scopeId","data-v-a67b247a"]]);var T=P,j={components:{Navigation:T}};const $=(0,U.A)(j,[["render",i]]);var V=$,N=a(1387);const D={class:"home-page d-flex mt-5"},O={class:"container"},X={class:"input-group mb-3"},M={class:"list-group list-unstyled"},W=["onClick"];function Q(e,t,a,r,s,i){const u=(0,o.g2)("router-link"),c=(0,o.g2)("ModalVisite");return(0,o.uX)(),(0,o.CE)("div",D,[(0,o.Lk)("div",O,[(0,o.Lk)("div",X,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.searchQuery=e),class:"form-control",style:{width:"200px"},placeholder:"Search for a restaurant",onInput:t[1]||(t[1]=(...t)=>e.filterRestaurants&&e.filterRestaurants(...t))},null,544),[[n.Jo,s.searchQuery]]),(0,o.bo)((0,o.Lk)("select",{class:"form-select ml-2","onUpdate:modelValue":t[2]||(t[2]=e=>s.selectedType=e),onChange:t[3]||(t[3]=(...t)=>e.filterRestaurants&&e.filterRestaurants(...t))},t[6]||(t[6]=[(0,o.Lk)("option",{value:""},"All",-1),(0,o.Lk)("option",{value:"Fast Food"},"Fast Food",-1),(0,o.Lk)("option",{value:"Vegan"},"Vegan",-1),(0,o.Lk)("option",{value:"Coffee"},"Coffee",-1)]),544),[[n.u1,s.selectedType]]),(0,o.bo)((0,o.Lk)("select",{class:"form-select ml-2","onUpdate:modelValue":t[4]||(t[4]=e=>s.selectedPriceRange=e),onChange:t[5]||(t[5]=(...t)=>e.filterRestaurants&&e.filterRestaurants(...t)),style:{width:"50px"}},t[7]||(t[7]=[(0,o.Fv)('<option value="" data-v-0d37911e>All Prices</option><option value="1" data-v-0d37911e>1</option><option value="2" data-v-0d37911e>2</option><option value="3" data-v-0d37911e>3</option><option value="4" data-v-0d37911e>4</option>',5)]),544),[[n.u1,s.selectedPriceRange]])]),(0,o.Lk)("ul",M,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.filteredRestaurants,(e=>((0,o.uX)(),(0,o.CE)("li",{class:"list-group-item",key:e.id},[(0,o.bF)(u,{to:"/restaurant/"+e.id,onClick:(0,n.D$)((t=>i.navigateToRestaurant(e)),["prevent"])},{default:(0,o.k6)((()=>[(0,o.Lk)("strong",null,(0,l.v_)(e.name),1),(0,o.eW)(" - "+(0,l.v_)(e.genres.join(", "))+" - "+(0,l.v_)("$".repeat(e.price_range))+" - "+(0,l.v_)(e.rating),1)])),_:2},1032,["to","onClick"]),(0,o.Lk)("button",{onClick:t=>i.ouvrirModalVisite(e),class:"btn btn-sm btn-primary ml-3"}," Marquer comme visité ",8,W)])))),128))]),s.showModalVisite?((0,o.uX)(),(0,o.Wv)(c,{key:0,restaurantId:s.selectedRestaurantId,nomRestaurant:s.selectedRestaurantName,onFermer:i.fermerModalVisite},null,8,["restaurantId","nomRestaurant","onFermer"])):(0,o.Q3)("",!0)])])}const q={class:"modal-visite"},J={class:"modal-visite-inner"},z={class:"mb-3"},B={class:"mb-3"},H={class:"mb-3"},K={class:"mb-3 d-flex justify-content-end"};function Y(e,t,a,r,s,i){return(0,o.uX)(),(0,o.CE)("div",q,[(0,o.Lk)("div",J,[(0,o.Lk)("h2",null,"Parlez-nous de votre visite à "+(0,l.v_)(a.nomRestaurant),1),(0,o.Lk)("form",{onSubmit:t[4]||(t[4]=(0,n.D$)(((...e)=>i.envoyerVisite&&i.envoyerVisite(...e)),["prevent"]))},[(0,o.Lk)("div",z,[t[5]||(t[5]=(0,o.Lk)("label",{for:"dateInput",class:"form-label"},"Date de visite",-1)),(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control",id:"dateInput","onUpdate:modelValue":t[0]||(t[0]=e=>s.date=e),required:""},null,512),[[n.Jo,s.date]])]),(0,o.Lk)("div",B,[t[6]||(t[6]=(0,o.Lk)("label",{for:"ratingInput",class:"form-label"},"Évaluation (sur 5)",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",class:"form-control",id:"ratingInput","onUpdate:modelValue":t[1]||(t[1]=e=>s.note=e),min:"1",max:"5",required:""},null,512),[[n.Jo,s.note]])]),(0,o.Lk)("div",H,[t[7]||(t[7]=(0,o.Lk)("label",{for:"commentInput",class:"form-label"},"Commentaire",-1)),(0,o.bo)((0,o.Lk)("textarea",{class:"form-control",id:"commentInput","onUpdate:modelValue":t[2]||(t[2]=e=>s.commentaire=e),rows:"3"},null,512),[[n.Jo,s.commentaire]])]),(0,o.Lk)("div",K,[t[8]||(t[8]=(0,o.Lk)("button",{type:"submit",class:"mx-2 btn btn-primary"},"Envoyer",-1)),(0,o.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[3]||(t[3]=t=>e.$emit("fermer"))},"Annuler")])],32)])])}a(4373);const G="6569767db55a58e85c543213";var Z={props:{restaurantId:{type:String,required:!0},nomRestaurant:{type:String,required:!0}},data(){return{date:"",note:"",commentaire:""}},methods:{async envoyerVisite(){try{await r["default"].ajouterVisite(G,this.restaurantId,this.date,this.note,this.commentaire),console.log("Visite envoyée avec succès !"),this.$emit("fermer")}catch(e){console.error("Erreur lors de l'envoi de la visite :",e)}}}};const ee=(0,U.A)(Z,[["render",Y],["__scopeId","data-v-3441e743"]]);var te=ee,ae={name:"HomePageComponent",data(){return{searchQuery:"",selectedType:"",selectedPriceRange:"",restaurants:A||{restaurants:[]},showModalVisite:!1,selectedRestaurantId:null,selectedRestaurantName:""}},computed:{filteredRestaurants(){let e=this.restaurants;return this.selectedType&&(e=e.filter((e=>e.genres.includes(this.selectedType)))),this.searchQuery&&(e=e.filter((e=>e.name.toLowerCase().includes(this.searchQuery.toLowerCase())))),this.selectedPriceRange&&(e=e.filter((e=>e.price_range==this.selectedPriceRange))),e}},methods:{async navigateToRestaurant(e){const t=I.currentUser;if(t){const a=`visitCount-${t.uid}-${e.id}`,r=`visitTimestamp-${t.uid}-${e.id}`;let n=parseInt(localStorage.getItem(a))||0;n+=1,localStorage.setItem(a,n),localStorage.setItem(r,Date.now()),this.$router.push(`/restaurant/${e.id}`),this.searchQuery=""}},ouvrirModalVisite(e){this.selectedRestaurantId=e.id,this.selectedRestaurantName=e.name,this.showModalVisite=!0},fermerModalVisite(){this.showModalVisite=!1}},components:{ModalVisite:te}};const re=(0,U.A)(ae,[["render",Q],["__scopeId","data-v-0d37911e"]]);var ne=re,oe=a.p+"img/Login.387c40c0.png";const se={class:"container mt-5"},ie={class:"row justify-content-center align-items-center"},le={class:"col-md-6"},ue={class:"card shadow-sm border-0 rounded-lg"},ce={class:"card-body"},de={class:"mb-3"},pe={class:"mb-3"},he={class:"text-danger mt-3"},me={class:"text-center mt-3"};function ge(e,t,a,r,s,i){return(0,o.uX)(),(0,o.CE)("div",se,[(0,o.Lk)("div",ie,[(0,o.Lk)("div",le,[(0,o.Lk)("div",ue,[t[8]||(t[8]=(0,o.Lk)("div",{class:"card-header text-center text-white py-4",style:{"background-color":"#90CAF9"}},[(0,o.Lk)("h2",{class:"mb-0"},"Login to UFood")],-1)),(0,o.Lk)("div",ce,[(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)(((...e)=>i.login&&i.login(...e)),["prevent"]))},[(0,o.Lk)("div",de,[t[4]||(t[4]=(0,o.Lk)("label",{for:"email",class:"form-label"},"Email",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e),type:"email",id:"email",class:"form-control",placeholder:"Enter your email",required:""},null,512),[[n.Jo,s.email]])]),(0,o.Lk)("div",pe,[t[5]||(t[5]=(0,o.Lk)("label",{for:"password",class:"form-label"},"Password",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),type:"password",id:"password",class:"form-control",placeholder:"Enter your password",required:""},null,512),[[n.Jo,s.password]])]),t[6]||(t[6]=(0,o.Lk)("button",{type:"submit",class:"btn btn-primary w-100"},"Login",-1))],32),(0,o.Lk)("p",he,(0,l.v_)(s.error),1),(0,o.Lk)("div",me,[(0,o.Lk)("p",null,[t[7]||(t[7]=(0,o.eW)("No account? ")),(0,o.Lk)("a",{href:"#",onClick:t[3]||(t[3]=(0,n.D$)(((...e)=>i.navigateToRegister&&i.navigateToRegister(...e)),["prevent"])),class:"text-primary"},"Create one")])])])])]),t[9]||(t[9]=(0,o.Lk)("div",{class:"col-md-6 d-none d-md-block"},[(0,o.Lk)("img",{src:oe,alt:"Login Illustration",class:"img-fluid rounded-end",style:{"object-fit":"cover",height:"100%",width:"100%"}})],-1))])])}var fe={name:"AuthLogin",data(){return{email:"",password:"",error:""}},created(){console.log("AuthLogin component created")},mounted(){console.log("AuthLogin component mounted")},methods:{async login(){try{await(0,x.x9)(I,this.email,this.password),this.$router.push("/")}catch(e){this.error=e.message,console.error("Login error:",e)}},navigateToRegister(){this.$router.push("/register")}}};const ve=(0,U.A)(fe,[["render",ge],["__scopeId","data-v-b4bde3f8"]]);var ye=ve,ke=a.p+"img/Register.ba08ff57.png";const be={class:"container mt-5"},Le={class:"row justify-content-center align-items-center"},we={class:"col-md-6"},Ce={class:"card shadow-sm border-0 rounded-lg"},_e={class:"card-body"},xe={class:"mb-3"},Re={class:"mb-3"},Fe={class:"mb-3"},Se={class:"text-danger mt-3"},Ie={class:"text-center mt-3"};function Ae(e,t,a,r,s,i){return(0,o.uX)(),(0,o.CE)("div",be,[(0,o.Lk)("div",Le,[(0,o.Lk)("div",we,[(0,o.Lk)("div",Ce,[t[10]||(t[10]=(0,o.Lk)("div",{class:"card-header text-center text-white py-4",style:{"background-color":"#90CAF9"}},[(0,o.Lk)("h2",{class:"mb-0"},"Register to UFood")],-1)),(0,o.Lk)("div",_e,[(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(((...e)=>i.register&&i.register(...e)),["prevent"]))},[(0,o.Lk)("div",xe,[t[5]||(t[5]=(0,o.Lk)("label",{for:"name",class:"form-label"},"Name",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e),type:"text",id:"name",class:"form-control",placeholder:"Enter your name",required:""},null,512),[[n.Jo,s.name]])]),(0,o.Lk)("div",Re,[t[6]||(t[6]=(0,o.Lk)("label",{for:"email",class:"form-label"},"Email",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.email=e),type:"email",id:"email",class:"form-control",placeholder:"Enter your email",required:""},null,512),[[n.Jo,s.email]])]),(0,o.Lk)("div",Fe,[t[7]||(t[7]=(0,o.Lk)("label",{for:"password",class:"form-label"},"Password",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.password=e),type:"password",id:"password",class:"form-control",placeholder:"Enter your password",required:""},null,512),[[n.Jo,s.password]])]),t[8]||(t[8]=(0,o.Lk)("button",{type:"submit",class:"btn btn-primary w-100"},"Register",-1))],32),(0,o.Lk)("p",Se,(0,l.v_)(s.error),1),(0,o.Lk)("div",Ie,[(0,o.Lk)("p",null,[t[9]||(t[9]=(0,o.eW)("Already have an account? ")),(0,o.Lk)("a",{href:"#",onClick:t[4]||(t[4]=(0,n.D$)(((...e)=>i.navigateToLogin&&i.navigateToLogin(...e)),["prevent"])),class:"text-primary"},"Log in")])])])])]),t[11]||(t[11]=(0,o.Lk)("div",{class:"col-md-6 d-none d-md-block"},[(0,o.Lk)("img",{src:ke,alt:"Illustration",class:"img-fluid rounded-end",style:{"object-fit":"cover",height:"100%",width:"100%"}})],-1))])])}var Ee={name:"AuthRegister",data(){return{name:"",email:"",password:"",error:""}},methods:{async register(){try{const e=await(0,x.eJ)(I,this.email,this.password);await(0,x.r7)(e.user,{displayName:this.name}),this.$router.push("/")}catch(e){this.error=e.message,console.error("Registration error:",e)}},navigateToLogin(){this.$router.push("/login")}}};const Ue=(0,U.A)(Ee,[["render",Ae],["__scopeId","data-v-0c923ede"]]);var Pe=Ue,Te=a.p+"img/ProfilePage.10d997e0.png";const je={class:"container mt-5"},$e={class:"row justify-content-center"},Ve={class:"col-md-10 col-lg-8"},Ne={class:"card shadow-sm border-0 rounded-lg"},De={class:"row g-0"},Oe={class:"col-md-6"},Xe={class:"card-body text-center"},Me={class:"profile-section d-flex flex-column align-items-center"},We=["src"],Qe={class:"mb-2 text-dark font-weight-bold"},qe={class:"user-score mb-4"},Je={class:"text-secondary"},ze={class:"badge badge-pill badge-light px-3 py-2"},Be={key:0,class:"list-group w-100 shadow-sm"},He={class:"text-dark"},Ke={class:"badge badge-primary badge-pill"},Ye={key:1,class:"text-center mt-4"};function Ge(e,t,a,r,s,i){return(0,o.uX)(),(0,o.CE)("div",je,[(0,o.Lk)("div",$e,[(0,o.Lk)("div",Ve,[(0,o.Lk)("div",Ne,[(0,o.Lk)("div",De,[(0,o.Lk)("div",Oe,[t[4]||(t[4]=(0,o.Lk)("div",{class:"card-header text-center text-white py-4",style:{"background-color":"#90CAF9"}},[(0,o.Lk)("h2",{class:"mb-0"},"Your Profile UFood")],-1)),(0,o.Lk)("div",Xe,[(0,o.Lk)("div",Me,[(0,o.Lk)("img",{src:s.user?.photoURL||s.defaultAvatar,alt:"User Avatar",class:"rounded-circle mb-3 border border-light shadow-sm",style:{width:"120px",height:"120px","object-fit":"cover"}},null,8,We),(0,o.Lk)("h4",Qe,(0,l.v_)(s.user?.displayName||"Anonymous User"),1),(0,o.Lk)("div",qe,[(0,o.Lk)("h5",Je,[t[1]||(t[1]=(0,o.eW)("Your Score: ")),(0,o.Lk)("span",ze,(0,l.v_)(s.userScore)+" Points",1)])]),t[3]||(t[3]=(0,o.Lk)("h5",{class:"text-left w-100 mt-3 mb-2 text-muted"},"Recently Viewed Restaurants",-1)),s.recentRestaurants.length>0?((0,o.uX)(),(0,o.CE)("ul",Be,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.recentRestaurants,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id,class:"list-group-item d-flex justify-content-between align-items-center"},[(0,o.Lk)("span",He,(0,l.v_)(e.name),1),(0,o.Lk)("span",Ke,(0,l.v_)(e.visitCount)+" visits",1)])))),128))])):((0,o.uX)(),(0,o.CE)("div",Ye,[t[2]||(t[2]=(0,o.Lk)("p",{class:"text-muted"},"No recently viewed restaurants yet.",-1)),(0,o.Lk)("a",{href:"#",onClick:t[0]||(t[0]=(0,n.D$)(((...e)=>i.navigateToHome&&i.navigateToHome(...e)),["prevent"])),class:"btn btn-outline-dark btn-sm"}," Explore Restaurants ")]))])])]),t[5]||(t[5]=(0,o.Lk)("div",{class:"col-md-6 d-none d-md-block"},[(0,o.Lk)("img",{src:Te,alt:"Profile Illustration",class:"img-fluid rounded-end",style:{"object-fit":"cover",height:"100%",width:"100%"}})],-1))]),t[6]||(t[6]=(0,o.Lk)("div",{class:"card-footer bg-light text-center"},[(0,o.Lk)("small",{class:"text-muted"},"Keep exploring to earn more points!")],-1))])])])])}var Ze={name:"ProfilePage",data(){return{user:null,userScore:0,defaultAvatar:"https://via.placeholder.com/150/000000/FFFFFF/?text=Avatar",recentRestaurants:[]}},created(){this.fetchUser(),this.fetchRecentRestaurants()},methods:{fetchUser(){(0,x.hg)(I,(e=>{this.user=e,e&&this.fetchRecentRestaurants()}))},async fetchRecentRestaurants(){const e=I.currentUser;if(e){const t=[],a=Object.keys(localStorage);a.forEach((a=>{if(a.startsWith(`visitCount-${e.uid}-`)){const r=a.split("-")[2],n=parseInt(localStorage.getItem(a)),o=parseInt(localStorage.getItem(`visitTimestamp-${e.uid}-${r}`))||0,s=this.getRestaurantNameById(r);s&&t.push({id:r,name:s,visitCount:n,visitTimestamp:o})}})),t.sort(((e,t)=>t.visitTimestamp-e.visitTimestamp)),this.recentRestaurants=t.slice(0,5),this.fetchUserScore(t)}else this.recentRestaurants=[],this.userScore=0},getRestaurantNameById(e){const t=A.find((t=>t.id===e));return t?t.name:null},fetchUserScore(){this.userScore=this.recentRestaurants.reduce(((e,t)=>e+10*t.visitCount),0)},navigateToHome(){this.$router.push("/")}}};const et=(0,U.A)(Ze,[["render",Ge],["__scopeId","data-v-44abda0a"]]);var tt=et;const at={class:"restaurant-page"},rt={class:"container"},nt={key:0},ot={style:{"list-style-type":"none"}},st=["src","alt"],it={style:{height:"300px"}},lt={class:"d-flex justify-content-between"};function ut(e,t,a,r,n,s){const i=(0,o.g2)("l-tile-layer"),u=(0,o.g2)("l-popup"),c=(0,o.g2)("l-marker"),d=(0,o.g2)("l-map");return(0,o.uX)(),(0,o.CE)("div",at,[(0,o.Lk)("div",rt,[(0,o.Lk)("h1",null,(0,l.v_)(n.restaurant.name),1),(0,o.Lk)("p",null,[t[2]||(t[2]=(0,o.Lk)("strong",null,"Address:",-1)),(0,o.eW)(" "+(0,l.v_)(n.restaurant.address),1)]),(0,o.Lk)("p",null,[t[3]||(t[3]=(0,o.Lk)("strong",null,"Telephone:",-1)),(0,o.eW)(" "+(0,l.v_)(n.restaurant.tel),1)]),(0,o.Lk)("p",null,[t[4]||(t[4]=(0,o.Lk)("strong",null,"Genres:",-1)),(0,o.eW)(" "+(0,l.v_)(n.genres.join(", ")),1)]),(0,o.Lk)("p",null,[t[5]||(t[5]=(0,o.Lk)("strong",null,"Price Range:",-1)),(0,o.eW)(" "+(0,l.v_)("$".repeat(n.restaurant.price_range)),1)]),(0,o.Lk)("p",null,[t[6]||(t[6]=(0,o.Lk)("strong",null,"Rating:",-1)),(0,o.eW)(" "+(0,l.v_)(n.restaurant.rating.toFixed(2)),1)]),t[10]||(t[10]=(0,o.Lk)("p",null,[(0,o.Lk)("strong",null,"Opening Hours:")],-1)),(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.restaurant.opening_hours,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:t},[(0,o.Lk)("strong",null,(0,l.v_)(t)+":",1),(0,o.eW)(" "+(0,l.v_)(e),1)])))),128))]),(0,o.Lk)("p",null,[t[7]||(t[7]=(0,o.Lk)("strong",null,"Location:",-1)),(0,o.eW)(" Latitude "+(0,l.v_)(n.restaurant.location.coordinates[1])+", Longitude "+(0,l.v_)(n.restaurant.location.coordinates[0]),1)]),n.restaurant.pictures&&n.restaurant.pictures.length?((0,o.uX)(),(0,o.CE)("div",nt,[t[8]||(t[8]=(0,o.Lk)("h3",null,"Pictures",-1)),(0,o.Lk)("ul",ot,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.restaurant.pictures,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:t},[(0,o.Lk)("img",{src:e,alt:"Picture "+(t+1)},null,8,st)])))),128))])])):(0,o.Q3)("",!0),(0,o.Lk)("div",it,[(0,o.bF)(d,{ref:"map",zoom:n.zoom,"onUpdate:zoom":t[0]||(t[0]=e=>n.zoom=e),center:[n.restaurant.location.coordinates[1],n.restaurant.location.coordinates[0]]},{default:(0,o.k6)((()=>[(0,o.bF)(i,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base",name:"OpenStreetMap"}),(0,o.bF)(c,{"lat-lng":[n.restaurant.location.coordinates[1],n.restaurant.location.coordinates[0]]},{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,l.v_)(n.restaurant.name)+" ",1),t[9]||(t[9]=(0,o.Lk)("br",null,null,-1)),(0,o.eW)(" "+(0,l.v_)(n.restaurant.address),1)])),_:1})])),_:1},8,["lat-lng"])])),_:1},8,["zoom","center"])]),(0,o.Lk)("div",lt,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=e=>s.getDirections(n.restaurant)),class:"w-25"},"Directions"),(0,o.Lk)("button",{onClick:e=>null,class:"w-25"},"Favorite"),(0,o.Lk)("button",{onClick:e=>null,class:"w-25"},"Visited")]),(0,o.Lk)("p",{style:(0,l.Tr)({color:n.routeColor})},(0,l.v_)(n.route),5)])])}var ct=a(1614),dt={name:"RestaurantPage",components:{LPopup:ct.nA,LMarker:ct.li,LMap:ct.Do,LTileLayer:ct.a},props:["id"],data(){return{restaurant:{},genres:[],opening_hours:{},zoom:18,route:{},routeColor:{}}},created(){this.fetchRestaurantDetails()},methods:{async fetchRestaurantDetails(){let e="https://ufoodapi.herokuapp.com/unsecure/restaurants/"+this.id;const t=await fetch(e).then((e=>e.json()));t?(this.restaurant=t,t.genres.forEach((e=>{switch(e){case"fast-food":this.genres.push("Fast Food");break;case"libanais":this.genres.push("Libanais");break;case"hamburgers":this.genres.push("Hamburgers");break;case"ambiance":this.genres.push("Ambiance");break;case"café":this.genres.push("Café");break;case"asiatique":this.genres.push("Asiatique");break;case"bistro":this.genres.push("Bistro");break;case"italien":this.genres.push("Italien");break}})),0===this.genres.length&&this.genres.push("N/A"),null===t.opening_hours.sunday&&(t.opening_hours.sunday="Closed"),null===t.opening_hours.monday&&(t.opening_hours.monday="Closed"),null===t.opening_hours.tuesday&&(t.opening_hours.tuesday="Closed"),null===t.opening_hours.wednesday&&(t.opening_hours.wednesday="Closed"),null===t.opening_hours.thursday&&(t.opening_hours.thursday="Closed"),null===t.opening_hours.friday&&(t.opening_hours.friday="Closed"),null===t.opening_hours.saturday&&(t.opening_hours.saturday="Closed"),this.routeColor="black",this.route=""):console.error("Restaurant not found")},getDirections(e){let t;function a(a){let r=a.coords.latitude,n=a.coords.longitude;t="http://routing.openstreetmap.de/routed-car/route/v1/driving/"+n+","+r+";"+e.location.coordinates[0]+","+e.location.coordinates[1]+"?overview=false&steps=true",fetch(t).then((function(e){return e.json()})).then((function(e){if("Ok"===e.code){let t=e.routes[0];console.log("Distance: "+Math.round(t.distance/100)/10+" km");for(let e in t.legs[0].steps){let a,r=t.legs[0].steps[e];console.log(r);let n="",o="";if(a=r.distance>1e3?Math.round(r.distance/100)/10+" km":Math.round(r.distance)+" m","string"==typeof r.ref&&-1===r.ref.search(";")?o=r.ref:"string"==typeof r.ref&&-1!==r.ref.search(";")&&(o=r.ref.substring(0,r.ref.search(";"))),""!==r.name&&""!==o?n=" onto "+r.name+"("+o+")":""!==r.name&&""===o?n=" onto "+r.name:""===r.name&&""!==o&&(n=" onto "+o),"depart"===r.maneuver.type)console.log("Depart "+r.maneuver.modifier.toUpperCase()+n+" "+a+" away");else if("turn"===r.maneuver.type||"end of road"===r.maneuver.type)console.log("Continue "+a+" then turn "+r.maneuver.modifier.toUpperCase()+n);else if("new name"===r.maneuver.type)console.log("Continue "+a+" then keep going "+r.maneuver.modifier.toUpperCase()+n);else if("on ramp"===r.maneuver.type||"off ramp"===r.maneuver.type)console.log("Continue "+a+" then take the "+r.maneuver.type+" "+r.maneuver.modifier.toUpperCase()+n);else if("merge"===r.maneuver.type)console.log("Continue "+a+" then merge "+r.maneuver.modifier.toUpperCase()+n);else if("fork"===r.maneuver.type)console.log("Continue "+a+" then go "+r.maneuver.modifier.toUpperCase()+" through the fork"+n);else if("arrive"===r.maneuver.type){let e="You have arrived at your destination";console.log("undefined"!==typeof r.maneuver.modifier),"undefined"!==typeof r.maneuver.modifier&&(e+=" on your "+r.maneuver.modifier.toUpperCase()),console.log(e)}}}else"NoRoute"===e.code&&(this.route="No route was found.",this.routeColor="red")})).catch((function(e){console.log(e)}))}navigator.geolocation.getCurrentPosition(a)}}};const pt=(0,U.A)(dt,[["render",ut],["__scopeId","data-v-54466753"]]);var ht=pt;const mt=[{path:"/",name:"home",component:ne},{path:"/login",name:"login",component:ye},{path:"/register",name:"register",component:Pe},{path:"/profile",name:"profile",component:tt,meta:{requiresAuth:!0}},{path:"/restaurant/:id",name:"restaurant",component:ht,props:!0}],gt=(0,N.aE)({history:(0,N.LA)(),routes:mt});var ft=gt;const vt=(0,n.Ef)(V);vt.use(ft),vt.config.globalProperties.$auth=I,vt.mount("#app")}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,o){if(!r){var s=1/0;for(c=0;c<e.length;c++){r=e[c][0],n=e[c][1],o=e[c][2];for(var i=!0,l=0;l<r.length;l++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[l])}))?r.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var o=Object.create(null);a.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){s[e]=function(){return r[e]}}));return s["default"]=function(){return r},a.d(o,s),o}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,r){return a.f[r](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{24:"22d0554b",71:"be19f688",249:"2fa3ceee",791:"5cf4adbf",886:"832a7a05"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue-app:";a.l=function(r,n,o,s){if(e[r])e[r].push(n);else{var i,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+o),i.src=r),e[r]=[n];var p=function(t,a){i.onerror=i.onload=null,clearTimeout(h);var n=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(a)})),t)return t(a)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.f.j=function(t,r){var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise((function(a,r){n=e[t]=[a,r]}));r.push(n[2]=o);var s=a.p+a.u(t),i=new Error,l=function(r){if(a.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",i.name="ChunkLoadError",i.type=o,i.request=s,n[1](i)}};a.l(s,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,s=r[0],i=r[1],l=r[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(l)var c=l(a)}for(t&&t(r);u<s.length;u++)o=s[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},r=self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(5617)}));r=a.O(r)})();
//# sourceMappingURL=app.ad539242.js.map